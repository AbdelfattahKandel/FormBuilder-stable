<div class="flex flex-col gap-1">
  @if (field().label) {
    <label class="text-sm font-medium text-slate-700" [for]="controlId()">{{ field().label }}</label>
  }

  <div class="relative">
    @if (formControlInst()) {
      <input
        type="{{ inputType() }}"
        class="w-full rounded-md border border-slate-300 bg-white pr-12 pl-3 py-2 text-sm text-slate-800 shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400"
        [formControl]="formControlInst()!"
        [id]="controlId()"
        [attr.placeholder]="placeholder()"
        [attr.autocomplete]="'current-password'"
      />
    } @else if (controlName()) {
      <input
        type="{{ inputType() }}"
        class="w-full rounded-md border border-slate-300 bg-white pr-12 pl-3 py-2 text-sm text-slate-800 shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-400"
        [formControlName]="controlName()!"
        [id]="controlId()"
        [attr.placeholder]="placeholder()"
        [attr.autocomplete]="'current-password'"
      />
    } @else {
      <input
        type="password"
        class="w-full rounded-md border border-slate-200 bg-slate-100 pr-12 pl-3 py-2 text-sm text-slate-400"
        [id]="controlId()"
        [attr.placeholder]="placeholder()"
        disabled
      />
    }

    <button
      type="button"
      class="absolute inset-y-0 right-0 mr-2 flex items-center justify-center rounded-md border border-transparent px-2 text-slate-500 transition hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:opacity-60"
      (click)="toggleVisibility()"
      [disabled]="isDisabled()"
      aria-label="Toggle password visibility"
    >
      <i class="fa-solid" [class.fa-eye]="!isVisible()" [class.fa-eye-slash]="isVisible()"></i>
    </button>
  </div>

</div>
